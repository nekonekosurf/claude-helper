# 構造解析チェック手順
# 衛星の構造設計・強度解析を確認する際の標準手順

name: 構造解析チェック手順
description: 衛星の構造設計・強度解析を確認する際の標準手順。荷重条件の確認から安全余裕の評価までを体系的にチェックする。
applicable_docs:
  - JERG-2-320  # 構造設計標準
  - JERG-2-130  # 環境試験標準（振動・衝撃試験部分）

prerequisites:
  - 衛星の質量特性データ（質量、重心、慣性モーメント）
  - ロケットインターフェース条件（ICD）
  - 構造設計要求書

steps:
  - step: 1
    title: 設計荷重条件の確認
    description: |
      打上げ時、軌道上、地上取扱い時の荷重条件を確認する。
      ロケットICD（インターフェース管理文書）からの荷重条件と
      衛星内部の荷重伝達経路を検証する。
    search_query: "設計荷重 打上げ荷重 準静的加速度 荷重条件"
    doc_filter: JERG-2-320
    check_items:
      - 準静的加速度条件が定義されているか
      - 正弦波振動条件が定義されているか
      - ランダム振動条件が定義されているか
      - 音響振動条件が定義されているか
      - 衝撃条件（ロケット分離等）が定義されているか
      - 荷重の組み合わせ方法が適切か

  - step: 2
    title: 構造解析モデルの確認
    description: |
      有限要素モデル（FEM）の妥当性を確認する。
      メッシュの適切さ、境界条件、結合条件等を検証する。
    search_query: "有限要素 FEM モデル 構造解析 メッシュ"
    check_items:
      - FEMの質量がハードウェア質量と整合しているか（質量誤差 ±5% 以内）
      - メッシュの解像度が十分か
      - 境界条件（拘束条件）が適切か
      - 結合要素（ボルト結合等）のモデル化が適切か
      - 減衰の設定が適切か

  - step: 3
    title: 固有振動数解析結果の確認
    description: |
      固有振動数解析（モーダル解析）の結果を確認し、
      ロケット側の要求（最低固有振動数要求）との整合性を検証する。
    search_query: "固有振動数 モーダル解析 最低固有振動数"
    doc_filter: JERG-2-320
    check_items:
      - 主要固有振動数が一覧化されているか
      - ロケット側の最低固有振動数要求を満足しているか
      - 有効質量比が適切に把握されているか
      - カップリング解析との整合性が確認されているか
    typical_requirements:
      lateral_first_mode: "15 Hz 以上（ロケット依存）"
      axial_first_mode: "30 Hz 以上（ロケット依存）"

  - step: 4
    title: 強度解析と安全余裕の確認
    description: |
      各構造部材の応力解析結果と安全余裕（Margin of Safety: MoS）を確認する。
      安全係数（Safety Factor）が規格要求を満足していることを検証する。
    search_query: "安全余裕 MoS 安全係数 応力解析 強度"
    doc_filter: JERG-2-320
    check_items:
      - 全ての荷重ケースで応力解析が実施されているか
      - 降伏安全余裕が正（MoS > 0）であるか
      - 終局安全余裕が正（MoS > 0）であるか
      - ボルト結合部の安全余裕が確認されているか
      - 座屈解析が必要な箇所で実施されているか
    safety_factors:
      yield: 1.25
      ultimate: 1.50
      fitting: 追加で 1.15 を乗じる
    formula: |
      MoS = (許容値 / (安全係数 × 設計荷重)) - 1
      MoS > 0 であること

  - step: 5
    title: 疲労・破壊力学の確認
    description: |
      繰り返し荷重を受ける部位の疲労解析結果を確認する。
      必要に応じて破壊力学的評価（損傷許容設計）を検証する。
    search_query: "疲労 破壊力学 損傷許容 繰り返し荷重 亀裂"
    check_items:
      - 疲労寿命評価が必要な箇所が特定されているか
      - 疲労解析の手法（S-N曲線、マイナー則等）が適切か
      - 繰り返し回数の見積もりが適切か
      - 損傷許容設計が必要な場合、実施されているか

  - step: 6
    title: 構造試験計画の確認
    description: |
      構造モデル試験（STM）、振動試験、静荷重試験等の
      計画が適切かを確認する。
    search_query: "構造試験 振動試験 静荷重試験 STM"
    doc_filter: JERG-2-130
    check_items:
      - 試験レベル（認定/受入/プロトフライト）が適切か
      - 正弦波振動試験条件が適切か
      - ランダム振動試験条件が適切か
      - 衝撃試験条件が適切か
      - ノッチング方針が定義されているか
      - 計測点（加速度センサ、歪ゲージ）が十分か

output_format: |
  ## 構造解析チェック結果

  ### 1. 設計荷重条件
  - 確認状況: [OK/要対応/未確認]
  - 指摘事項: ...

  ### 2. FEMモデル
  - 確認状況: [OK/要対応/未確認]
  - 質量整合: 解析値 ___kg / 実測値 ___kg（誤差 ___%）
  - 指摘事項: ...

  ### 3. 固有振動数
  - 確認状況: [OK/要対応/未確認]
  - 横方向1次: ___Hz（要求: ___Hz以上）
  - 縦方向1次: ___Hz（要求: ___Hz以上）
  - 指摘事項: ...

  ### 4. 強度・安全余裕
  - 確認状況: [OK/要対応/未確認]
  - 最小MoS（降伏）: ___（箇所: ___）
  - 最小MoS（終局）: ___（箇所: ___）
  - 指摘事項: ...

  ### 5. 疲労・破壊力学
  - 確認状況: [OK/要対応/該当なし]
  - 指摘事項: ...

  ### 6. 構造試験計画
  - 確認状況: [OK/要対応/未確認]
  - 指摘事項: ...

  ### 総合判定
  - 判定: [合格/条件付き合格/要再確認]
  - 主要指摘事項のまとめ: ...
